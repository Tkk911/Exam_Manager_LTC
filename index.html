<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö (Exam Manager)</title>
  <style>
    :root{
      --bg:#f9fbe7;
      --card:#fffde7;
      --accent:#8bc34a;
      --accent-dark:#689f38;
    }
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Thai",sans-serif;margin:0;background:var(--bg);color:#111}
    header{background:linear-gradient(90deg,var(--accent),#cddc39);color:#333;padding:10px 20px;display:flex;align-items:center;justify-content:space-between}
    .header-left{display:flex;align-items:center;gap:12px}
    .header-left img{height:48px}
    .container{max-width:1100px;margin:20px auto;padding:18px}
    .card{background:var(--card);padding:16px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.08);margin-bottom:16px}
    h1{font-size:20px;margin:0}
    .flex{display:flex;gap:12px}
    button{background:var(--accent);color:white;padding:6px 12px;border:0;border-radius:6px;cursor:pointer;transition:background .25s}
    button:hover{background:var(--accent-dark)}
    button.ghost{background:transparent;color:var(--accent);border:1px solid rgba(139,195,74,0.6)}
    input[type=text], input[type=url], input[type=email], textarea, select{width:100%;padding:8px;border:1px solid #ccc;border-radius:6px}
    .subject-list{max-height:300px;overflow:auto}
    .subject-item{display:flex;align-items:center;justify-content:space-between;padding:8px;border-bottom:1px solid #dce775}
    iframe{width:100%;height:400px;border:1px solid #cddc39;border-radius:8px;background:#fff}
    footer{font-size:13px;text-align:center;color:#666;padding:20px}
    #card-preview img{max-width:200px;margin-top:8px;border:1px solid #ccc;border-radius:6px}
    mark {background: #ffeb3b; color: #000; padding: 0 2px; border-radius: 3px;}
    table {width:100%; border-collapse: collapse; margin-top:10px;}
    th, td {border:1px solid #ccc; padding:6px; text-align:left;}
    th {background:#e6ee9c;}
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <img src="logoLTC.png" alt="LTC Logo">
      <div>
        <h2>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÅ‡∏´‡∏•‡∏°‡∏ó‡∏≠‡∏á</h2>
        <small>‡πÅ‡∏¢‡∏Å‡πÇ‡∏´‡∏°‡∏î Admin ‡πÅ‡∏•‡∏∞ ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö</small>
      </div>
    </div>
    <div>
      ‡πÇ‡∏´‡∏°‡∏î: <strong id="mode-label">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö</strong>
      <button id="btn-toggle-mode" class="ghost">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</button>
    </div>
  </header>

  <main class="container">
    <!-- ‡πÅ‡∏ú‡∏á‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• -->
    <section id="admin-panel" class="card" style="display:none">
      <h2>‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</h2>
      <label>‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ß‡∏¥‡∏ä‡∏≤ (.html)</label>
      <input type="file" id="file-input" accept="text/html"><br><br>
      <label>‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö (URL)</label>
      <input type="url" id="subject-link" placeholder="https://..."><br><br>
      <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤</label>
      <input type="text" id="subject-title" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤"><br><br>
      <label>‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏¥‡∏ä‡∏≤</label>
      <input type="text" id="subject-teacher" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå"><br><br>
      <label>‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ HTML ‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏ä‡∏≤</label>
      <textarea id="html-paste" rows="6" placeholder="‡∏ß‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ HTML ‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏ä‡∏≤"></textarea><br><br>
      <button id="btn-add-subject">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤</button>

      <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤</h3>
      <div id="subject-list" class="subject-list"></div>
      <iframe id="preview-iframe"></iframe>

      <h3>üìë ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß</h3>
      <button id="btn-refresh-all-cards">‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
      <div id="all-cards"></div>
    </section>

    <!-- ‡πÅ‡∏ú‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö -->
    <section id="student-panel" class="card">
      <h2>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö</h2>
      <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤</label>
      <div style="display:flex; gap:6px; align-items:center;">
        <input type="text" id="teacher-filter" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå">
        <button id="btn-reset-filter" class="ghost">Reset</button>
      </div>
      <select id="subject-select"><option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤ --</option></select><br><br>

      <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö</label>
      <input type="text" id="student-name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠"><br><br>

      <label>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö</label>
      <input type="file" id="exam-card" accept="image/*,.pdf"><br>
      <div id="card-preview"></div><br>
      <button id="btn-upload-card">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö</button>
      <button id="btn-view-cards" class="ghost">‡∏î‡∏π‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß</button>
      <div id="uploaded-cards"></div>
      <hr>

      <button id="btn-start">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</button>
      <iframe id="exam-iframe" style="display:none"></iframe>
    </section>

    <footer>
      <small>‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå (localStorage) ‡πÅ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏õ‡∏¢‡∏±‡∏á Google Drive ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•(Admin)</small>
    </footer>
  </main>

  <script>
    const STORAGE_KEY = 'exam_subjects_v1';
    const CARD_KEY = 'uploaded_cards_v1';
    const DEFAULT_ADMIN_PW = 'admin123';
    const GAS_URL = "https://script.google.com/macros/s/AKfycby_tkDoCkjla08b6QLsZgADnZzngV1Zw9vWg1oHrPKISG3kFv3cop6yFTT9B9ATsMw4/exec"; 

    let isAdmin = false;

    const adminPanel=document.getElementById('admin-panel');
    const btnToggleMode=document.getElementById('btn-toggle-mode');
    const modeLabel=document.getElementById('mode-label');
    const fileInput=document.getElementById('file-input');
    const htmlPaste=document.getElementById('html-paste');
    const subjectTitle=document.getElementById('subject-title');
    const subjectTeacher=document.getElementById('subject-teacher');
    const subjectLink=document.getElementById('subject-link');
    const btnAdd=document.getElementById('btn-add-subject');
    const subjectList=document.getElementById('subject-list');
    const previewIframe=document.getElementById('preview-iframe');
    const subjectSelect=document.getElementById('subject-select');
    const btnStart=document.getElementById('btn-start');
    const examIframe=document.getElementById('exam-iframe');
    const btnUploadCard=document.getElementById('btn-upload-card');
    const examCard=document.getElementById('exam-card');
    const cardPreview=document.getElementById('card-preview');
    const btnViewCards=document.getElementById('btn-view-cards');
    const uploadedCards=document.getElementById('uploaded-cards');
    const teacherFilter=document.getElementById('teacher-filter');
    const btnResetFilter=document.getElementById('btn-reset-filter');
    const btnRefreshAllCards=document.getElementById('btn-refresh-all-cards');
    const allCards=document.getElementById('all-cards');

    function readSubjects(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY))||[] }catch{ return [] } }
    function writeSubjects(list){ localStorage.setItem(STORAGE_KEY,JSON.stringify(list)); }

    function readCards(){ try{ return JSON.parse(localStorage.getItem(CARD_KEY))||[] }catch{ return [] } }
    function writeCards(list){ localStorage.setItem(CARD_KEY,JSON.stringify(list)); }

    function setMode(admin){
      isAdmin=admin;
      if(admin){
        adminPanel.style.display='block';
        modeLabel.textContent='‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö';
        btnToggleMode.textContent='‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•';
        refreshAllCards();
      }else{
        adminPanel.style.display='none';
        modeLabel.textContent='‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö';
        btnToggleMode.textContent='‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•';
      }
      refreshSelect();
      refreshList();
    }

    btnToggleMode.addEventListener('click',()=>{
      if(!isAdmin){
        const pw=prompt('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: admin123)');
        const expected=localStorage.getItem('exam_admin_pw')||DEFAULT_ADMIN_PW;
        if(pw===expected){ setMode(true);} else alert('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
      } else setMode(false);
    });

    // ==== ‡∏™‡πà‡∏ß‡∏ô admin ‡∏î‡∏π‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ====
    function refreshAllCards(){
      const cards = readCards();
      if(cards.length===0){
        allCards.innerHTML = "<p>‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</p>";
        return;
      }
      let html = "<table><tr><th>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏≠‡∏ö</th><th>‡πÑ‡∏ü‡∏•‡πå</th><th>‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡∏•‡∏¥‡∏á‡∏Å‡πå</th></tr>";
      cards.forEach(c=>{
        html += `<tr>
                  <td>${c.student}</td>
                  <td>${c.name}</td>
                  <td>${c.uploadedAt}</td>
                  <td><a href="${c.url}" target="_blank">‡πÄ‡∏õ‡∏¥‡∏î</a></td>
                 </tr>`;
      });
      html += "</table>";
      allCards.innerHTML = html;
    }
    btnRefreshAllCards.addEventListener("click", refreshAllCards);

    // ==== ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤ (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ====
    fileInput.addEventListener('change',async ev=>{
      const f=ev.target.files[0];
      if(!f)return;
      const txt=await f.text();
      htmlPaste.value=txt;
      subjectTitle.value=f.name.replace(/\.html?/,''); 
      previewIframe.srcdoc=txt;
    });

    btnAdd.addEventListener('click',()=>{
      const html=htmlPaste.value.trim();
      const link=subjectLink.value.trim();
      if(!html && !link){alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ HTML ‡∏´‡∏£‡∏∑‡∏≠ URL');return}
      let title=subjectTitle.value.trim();
      if(!title){
        const m=html.match(/<title>([^<]+)<\/title>/i);
        if(m) title=m[1]; else title='‡∏ß‡∏¥‡∏ä‡∏≤‡πÉ‡∏´‡∏°‡πà';
      }
      const teacher=subjectTeacher.value.trim()||'‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå';
      const list=readSubjects();
      list.push({id:'s_'+Date.now(),title,teacher,content:html,link});
      writeSubjects(list);
      refreshList();
      refreshSelect();
      htmlPaste.value='';subjectTitle.value='';subjectTeacher.value='';subjectLink.value='';
      alert('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤: '+title+' ('+teacher+')');
    });

    function deleteSubject(id){
      let list=readSubjects().filter(s=>s.id!==id);
      writeSubjects(list);
      refreshList();
      refreshSelect();
    }

    function refreshList(){
      subjectList.innerHTML='';
      readSubjects().forEach(s=>{
        const d=document.createElement('div');
        d.className='subject-item';
        d.innerHTML='<div><strong>'+s.title+'</strong> ‚Äî <em>'+s.teacher+'</em></div>';
        const btnDel=document.createElement('button');
        btnDel.textContent='‡∏•‡∏ö';
        btnDel.className='ghost';
        btnDel.onclick=()=>{ if(confirm('‡∏•‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤ '+s.title+' ?')) deleteSubject(s.id); };
        d.appendChild(btnDel);
        d.onclick=()=>{
          if(s.link){ previewIframe.src=s.link; }
          else{ previewIframe.srcdoc=s.content; }
        };
        subjectList.appendChild(d);
      });
    }

    function refreshSelect(){
      subjectSelect.innerHTML='<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤ --</option>';
      const filter = teacherFilter.value.trim().toLowerCase();
      readSubjects().forEach(s=>{
        if(!filter || s.teacher.toLowerCase().includes(filter)){
          const o=document.createElement('option');
          o.value = s.id;
          let teacherDisplay = s.teacher;
          if(filter){
            const regex = new RegExp(`(${filter})`, 'gi');
            teacherDisplay = teacherDisplay.replace(regex, '<mark>$1</mark>');
          }
          o.innerHTML = s.title + ' (' + teacherDisplay + ')';
          subjectSelect.appendChild(o);
        }
      });
    }

    teacherFilter.addEventListener('input', refreshSelect);
    btnResetFilter.addEventListener('click', ()=>{ teacherFilter.value = ''; refreshSelect(); });

    btnStart.addEventListener('click',()=>{
      const id=subjectSelect.value;
      if(!id){alert('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤');return}
      const s=readSubjects().find(x=>x.id===id);
      if(s){ 
        examIframe.style.display='block';
        if(s.link){ examIframe.src=s.link; }
        else{ examIframe.srcdoc=s.content; }
      }
    });

    // ==== ‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö ====
    examCard.addEventListener("change", e=>{
      const file=e.target.files[0];
      if(file){
        if(file.type.startsWith("image/")){
          const reader=new FileReader();
          reader.onload=()=>{ cardPreview.innerHTML=`<img src="${reader.result}">`; };
          reader.readAsDataURL(file);
        }else{
          cardPreview.textContent=file.name;
        }
      }
    });

    btnUploadCard.addEventListener("click", async ()=>{
      const file = examCard.files[0];
      const student = document.getElementById("student-name").value || "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠";
      if (!file) { 
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô"); 
        return; 
      }

      const reader = new FileReader();
      reader.onload = async () => {
        const base64 = reader.result.split(",")[1];
        const payload = { student, filename: file.name, data: base64 };
        try {
          const res = await fetch(GAS_URL, {
            method: "POST",
            body: JSON.stringify(payload),
            headers: { "Content-Type": "application/json" }
          });
          const data = await res.json();
          if (data.status === "success") {
            const cards = readCards();
            cards.push({ student, name: data.name, url: data.fileUrl, uploadedAt: new Date().toLocaleString() });
            writeCards(cards);
            cardPreview.innerHTML = `
              <p>‚úÖ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
              <p><strong>‡πÑ‡∏ü‡∏•‡πå:</strong> ${data.name}</p>
              <p><a href="${data.fileUrl}" target="_blank">‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô Google Drive</a></p>
            `;
            refreshAllCards(); // update admin view
          } else {
            cardPreview.innerHTML = `<p style="color:red">‚ùå ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${data.message}</p>`;
          }
        } catch (err) {
          cardPreview.innerHTML = `<p style="color:red">‚ùå ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ${err.message}</p>`;
        }
      };
      reader.readAsDataURL(file);
    });

    btnViewCards.addEventListener("click", ()=>{
      const student = document.getElementById("student-name").value || "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠";
      const cards = readCards().filter(c=>c.student===student);
      if(cards.length===0){
        uploadedCards.innerHTML = "<p>‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö "+student+"</p>";
        return;
      }
      let html = "<h3>‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á "+student+"</h3>";
      html += "<table><tr><th>‡πÑ‡∏ü‡∏•‡πå</th><th>‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</th><th>‡∏•‡∏¥‡∏á‡∏Å‡πå</th></tr>";
      cards.forEach(c=>{
        html += `<tr>
                  <td>${c.name}</td>
                  <td>${c.uploadedAt}</td>
                  <td><a href="${c.url}" target="_blank">‡πÄ‡∏õ‡∏¥‡∏î</a></td>
                 </tr>`;
      });
      html += "</table>";
      uploadedCards.innerHTML = html;
    });

    setMode(false);
  </script>
</body>
</html>
